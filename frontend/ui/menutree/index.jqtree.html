<!doctype html>
<html lang="en">
<head>
    <title>this is title</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="../jqtree/jqtree.css">
    <link rel="stylesheet" type="text/css" href="./menuTree.css">
    <link rel="stylesheet" type="text/css" href="../../bower_components/font-awesome/css/font-awesome.css">
    <style type="text/css">
    </style>
</head>
<body>
    <div class="menuTree"></div>
</body>
<script type="text/javascript" src="../../bower_components/jquery/dist/jquery.js"></script>
<script type="text/javascript" src="../../bower_components/underscore/underscore-min.js"></script>
<script type="text/javascript" src="../jqtree/tree.jquery.js"></script>
<script type="text/javascript">
    var $el = $('.menuTree').tree({
        dragAndDrop: true,
        autoOpen: true,
        autoEscape: false,
        closedIcon: $('<i class="fa fa-angle-down"></i>'),
        openedIcon: $('<i class="fa fa-angle-up"></i>'),
        slide: false,
        onCreateLi: function (node, $li) {
            return; 
        },
        onCanMoveTo: function(moved_node, target_node, position) {
            //console.log(moved_node, target_node, position);
            if (target_node.isFolder() || target_node._is_folder) {
                return true;
            } else {
                return position !== 'inside';
            }
        },
        data: [{
            label: 'Menu A',
            _is_folder: true,
            id: 'menu_a',
            children: [{
                label: 'Menu A1',
                id: 'menu_a_1'
            }, {
                label: 'Menu AX',
                id: 'menu_a_x'
            }, {
                label: 'Menu A2',
                id: 'menu_a_2',
                _is_folder: true,
                children: [{
                    label: 'Menu A21',
                    id: 'menu_a_2_1'
                }]
            }, {
                label: 'Menu A3',
                id: 'menu_a_3',
                _is_folder: true,
                children: [{
                    label: 'Menu A31',
                    id: 'menu_a_3_1',
                    _is_folder: true,
                    children: [{
                        label: '<a href="jquery">Menu A311</a>',
                        id: 'menu_a_3_1_1',
                        _is_folder: true,
                        children: [{
                            label: 'Menu A3111',
                            id: 'menu_a_3_1_1_1'
                        }]
                    }, {
                        label: 'Menu A312',
                        id: 'menu_a_3_1_2'
                    }]
                }]
            }]
        }, {
            label: 'Menu B',
            id: 'menu_b',
            _is_folder: true,
            children: [{
                label: 'Menu B1',
                id: 'menu_b_1'
            }, {
                label: 'Menu B2',
                id: 'menu_b_2'
            }, {
                label: 'Menu B3',
                id: 'menu_b_3',
                _is_folder: true,
                children: [{
                    label: 'Menu B31',
                    id: 'menu_b_3_1'
                }, {
                    label: 'Menu B32',
                    id: 'menu_b_3_2'
                }, {
                    label: 'Menu B33',
                    id: 'menu_b_3_3'
                }, {
                    label: 'Menu B34',
                    id: 'menu_b_3_4'
                }]
            }]
        }]
    });
</script>
</html>