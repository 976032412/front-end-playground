<!doctype html>
<html lang="en">
<head>
    <title>facade pattern</title>
    <meta charset="utf-8">
    <script type="text/javascript" src="http://codeorigin.jquery.com/jquery-2.0.3.js"></script>
</head>
<style type="text/css">
.test{
    background-color: red;
    padding: 40px;
}
</style>
<body>
<div id="my-div">click to remove</div>
</body>
<script type="text/javascript">
/**
 * facade pattern (外观模式) 是一个流行的设计模式， 给一个现有的对象创建一个新的接口, 
 * 可以创建接口使得原对象更加容易使用
 * 还可以隐藏原对象的信息
 * 如果继承不适合，那么外观模式可以是你的第二个想到的东西
 * 由于你不能继承DOM,所以你只能创建一个Facade来包装dom
 */

var DomWrapper = function (element) {
    this.element = element;
};

DomWrapper.prototype.addClass = function (cls) {
    this.element.className += ' ' + cls;
};

DomWrapper.prototype.remove = function () {
    this.element.parentNode.removeChild(this.element);
};

DomWrapper.prototype.click = function (callback) {
    this.element.onclick = callback;
};
//使用一下

var wrapper = new DomWrapper(document.getElementById('my-div'));

wrapper.addClass('test');

wrapper.click(function (e) {
    wrapper.remove();
})
</script>
</html>